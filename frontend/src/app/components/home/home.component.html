<div class="home-container fade-in">

    <!-- HERO CAROUSEL (Full Width) -->
    <section class="hero-carousel" *ngIf="featuredEvents.length > 0">
        <div class="carousel-track" [style.transform]="'translateX(-' + (currentSlide * 100) + '%)'">

            <div class="carousel-slide" *ngFor="let event of featuredEvents">
                <!-- Clickable Background -->
                <a [routerLink]="['/event', event.id]" class="slide-bg-link">
                    <div class="slide-bg"
                        [style.background-image]="'url(' + (event.imageUrl || 'assets/placeholder-event.jpg') + ')'">
                    </div>
                </a>

                <!-- Cinema Gradient -->
                <div class="slide-overlay pointer-events-none">
                    <div class="slide-content container pointer-events-auto">
                        <span class="badge-featured">Premier Event</span>
                        <h1 class="slide-title">{{ event.title }}</h1>

                        <div class="slide-meta">
                            <span class="meta-item">{{ event.date | date:'EEEE, d MMMM' }}</span>
                            <span class="meta-dot">â€¢</span>
                            <span class="meta-item">{{ event.location }}</span>
                        </div>

                        <p class="slide-desc" *ngIf="event.description">{{ event.description | slice:0:150 }}...</p>

                        <div class="slide-actions">
                            <a [routerLink]="['/event', event.id]" class="btn-hero-primary">
                                <i class="fas fa-play"></i> Get Tickets
                            </a>
                        </div>
                    </div>
                </div>
            </div>

        </div>

        <!-- Carousel Controls -->
        <button class="carousel-btn prev" (click)="prevSlide()"><i class="fas fa-chevron-left"></i></button>
        <button class="carousel-btn next" (click)="nextSlide()"><i class="fas fa-chevron-right"></i></button>

        <div class="carousel-indicators">
            <span *ngFor="let event of featuredEvents; let i = index" [class.active]="i === currentSlide"
                (click)="setSlide(i)"></span>
        </div>
    </section>

    <!-- CONTENT CONTAINER -->
    <div class="main-content container">

        <!-- Categories Bar -->
        <div class="categories-bar">
            <button class="cat-pill" *ngFor="let cat of categories" (click)="filterCategory(cat.name)">
                {{ cat.icon }} {{ cat.name }}
            </button>
            <button class="cat-pill" (click)="filterCategory('Redo')">All Categories</button>
        </div>


        <!-- NETFLIX STYLE FEED -->
        <section class="feed-section">
            <h2 class="section-title">Trending Now</h2>

            <div class="netflix-slider">
                <a [routerLink]="['/event', event.id]" class="netflix-card" *ngFor="let event of feedEvents">
                    <div class="card-image"
                        [style.background-image]="'url(' + (event.imageUrl || 'assets/placeholder-event.jpg') + ')'">
                    </div>
                    <div class="card-overlay">
                        <h4>{{ event.title }}</h4>
                        <div class="card-meta">
                            <span>{{ event.date | date:'MMM d' }}</span>
                            <span class="price-tag">From $20</span>
                        </div>
                    </div>
                </a>

                <!-- Skeleton / Empty State -->
                <div *ngIf="feedEvents.length === 0" class="empty-feed">
                    <p>No more events found.</p>
                </div>
            </div>
        </section>

    </div>

</div>